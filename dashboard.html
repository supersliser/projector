<!DOCTYPE html>
<html>
<head>
<style>
  body { background-color: #141414; color: white; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; overflow: hidden; }
  h1 { font-size: 2em; margin-bottom: 40px; text-transform: uppercase; letter-spacing: 2px; }
  .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 30px; }
  .card {
    background: #2f2f2f; width: 300px; height: 160px; display: flex;
    align-items: center; justify-content: center; border-radius: 10px;
    text-decoration: none; color: white; font-size: 24px; font-weight: bold;
    border: 3px solid transparent; transition: transform 0.2s, border-color 0.2s;
  }
  .card:hover, .card:focus { transform: scale(1.05); border-color: #e50914; outline: none; background: #404040; cursor: pointer; }
  /* Specific colors for services */
  .netflix:focus { border-color: #E50914; }
  .disney:focus { border-color: #113CCF; }
  .youtube:focus { border-color: #FF0000; }
  .browser:focus { border-color: #44aaff; }
  .restart:focus { border-color: #ffaa00; }
  .power-off:focus { border-color: #ff4444; }
  
  /* Navigation bar */
  .nav-bar {
    position: fixed;
    bottom: 20px;
    display: flex;
    gap: 15px;
    background: #1a1a1a;
    padding: 15px 25px;
    border-radius: 50px;
  }
  .nav-btn {
    background: #2f2f2f;
    border: 2px solid transparent;
    color: white;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    font-size: 24px;
    cursor: pointer;
    transition: transform 0.2s, border-color 0.2s, background 0.2s;
  }
  .nav-btn:hover, .nav-btn:focus {
    transform: scale(1.1);
    border-color: #e50914;
    background: #404040;
    outline: none;
  }
  .nav-btn:disabled {
    opacity: 0.3;
    cursor: not-allowed;
  }
</style>
</head>
<body>
  <h1>Media Center</h1>
  <div class="grid">
    <a href="https://www.netflix.com/browse" class="card netflix">Netflix</a>
    <a href="https://www.disneyplus.com" class="card disney">Disney+</a>
    <a href="https://www.amazon.co.uk/gp/video/storefront" class="card">Prime Video</a>
    <a href="https://www.bbc.co.uk/iplayer" class="card">BBC iPlayer</a>
    <a href="https://www.youtube.com/tv" class="card youtube">YouTube TV</a>
    <button class="card browser" onclick="systemCmd('firefox')">üåê Firefox</button>
    <button class="card" onclick="systemCmd('steam')">üéÆ Steam</button>
    <button class="card restart" onclick="confirmAction('restart')">üîÑ Restart</button>
    <button class="card power-off" onclick="confirmAction('poweroff')">‚èª Power Off</button>
    <a href="javascript:window.close();" class="card">Exit to Desktop</a> 
  </div>
  
  <!-- Navigation Bar -->
  <div class="nav-bar">
    <button class="nav-btn" onclick="history.back()" title="Back">‚óÄ</button>
    <button class="nav-btn" onclick="goHome()" title="Home">üè†</button>
    <button class="nav-btn" onclick="history.forward()" title="Forward">‚ñ∂</button>
    <button class="nav-btn" onclick="location.reload()" title="Refresh">‚Üª</button>
  </div>

  <script>
    // Focus the first element on load for remote control readiness
    document.querySelector('.card').focus();
    
    const SERVER = 'http://localhost:8765';
    
    function goHome() {
      window.location.href = 'file:///home/user/dashboard.html';
    }
    
    function systemCmd(cmd) {
      fetch(SERVER + '/' + cmd)
        .then(r => r.text())
        .then(msg => console.log(msg))
        .catch(err => alert('Command server not running'));
    }
    
    function confirmAction(cmd) {
      const action = cmd === 'poweroff' ? 'shut down' : 'restart';
      if (confirm('Are you sure you want to ' + action + '?')) {
        systemCmd(cmd);
      }
    }
    
    // Keyboard navigation for remote controls
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Backspace' || e.key === 'BrowserBack') {
        e.preventDefault();
        history.back();
      }
      if (e.key === 'Home' || e.key === 'BrowserHome') {
        e.preventDefault();
        goHome();
      }
    });
  </script>
</body>
</html>